<cube-grid-spinner ng-if="ctl.loading"></cube-grid-spinner>
<div class="enforcer-assignments print-view" ng-if="!ctl.loading">
  <div class="assignments-header">
    <h2>{{ 'ENFORCERS.ASSIGNMENTS_TITLE' | translate }}</h2>
    <h3 ng-if="!isRightToLeft">
        <span>{{ ::ctl.params.shift_start | localizeRecordDate :ctl.dateFormat :'time' }}</span> &ndash;
        <span>{{ ::ctl.params.shift_end | localizeRecordDate :ctl.dateFormat :'time' }}</span>
    </h3>
    <h3 ng-if="isRightToLeft">
        <span>{{ ::ctl.params.shift_end | localizeRecordDate :ctl.dateFormat :'time' }}</span> &ndash;
        <span>{{ ::ctl.params.shift_start | localizeRecordDate :ctl.dateFormat :'time' }}</span>
    </h3>
  </div>
  <div ng-repeat="assignment in ctl.assignments" class="enforcer-assignment">
    <h3>{{ 'ENFORCERS.ASSIGNMENT' | translate }} {{$index + 1}}</h3>
    <div class="assignment-details">
      <span class="forecast-severity">
        {{ 'ENFORCERS.FORECAST_SEVERITY' | translate }}: {{ assignment.severity_score | number }}
      </span>
    </div>
    <div class="map assignment-map" leaflet-map assignment-map geom="assignment.geom.coordinates"></div>
  </div>
  <div ng-if="ctl.error" class="error">{{ 'ERRORS.ERROR' | translate }}: {{ ctl.error }}</div>
</div>
